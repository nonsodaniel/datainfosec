(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},21:function(e,t,a){},27:function(e,t,a){e.exports=a(43)},32:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(23),o=a.n(c),r=(a(32),a(3)),s=a(4),i=a(6),m=a(5),d=a(7),u=a(46),h=a(45),p=(a(12),a(44)),f=a(47),b=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleLogout=function(e){e.preventDefault(),console.log(a.props),a.props.history.push("/register")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-white"},l.a.createElement(p.a,{to:"/",className:"navbar-brand"},l.a.createElement("div",{className:"logo"})),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("div",{className:"list-container"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.a,{to:"/",className:"nav-link"},"Profile")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.a,{to:"/staff",className:"nav-link"},"Staff")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.a,{to:"/login",className:"nav-link"},l.a.createElement("button",{className:"btn  btn-logIn border text-dark bg-white"},"LOG IN"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(p.a,{to:"/register",className:"nav-link"},l.a.createElement("button",{className:"btn text-white btn-signUp"},"SIGN UP"))),l.a.createElement("li",{className:"nav-item",onClick:this.handleLogout},l.a.createElement(p.a,{to:"#",className:"nav-link"},l.a.createElement("button",{className:"btn text-white btn-signOut"},"SIGN OUT")))))))))}}]),t}(n.Component),g=Object(f.a)(b),E=a(11),v=a(9),N=a.n(v),y=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",isLoading:!1},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.id,e.target.value)),console.log(a.state)},a.handleSubmit=function(e){e.preventDefault();var t={email:a.state.email};console.log("obj",t,a.state),fetch("".concat("http://localhost:4000/api","/admin/authenticate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){if(console.log("login response",e),200!==e.statuscode)return N()("Response","An error occured! Please recheck and try again","failed");localStorage.setItem("staff",JSON.stringify(e.data)),N()("Response","Login Successful","success"),setTimeout(a.props.history.push("/staff"),2e3)})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"login"},l.a.createElement("div",{className:"container login-container"},l.a.createElement("h2",{className:"text-center login-text"},"Log In"),l.a.createElement("form",{className:"form mx-auto"},l.a.createElement("input",{type:"email",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",id:"email",placeholder:"Email",onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("button",{className:"col-md-7 btn btn-primary btn-login",onClick:this.handleSubmit},"Log In"),l.a.createElement("br",null)),l.a.createElement("div",{className:"d-flex justify-content-center not-a-member"},l.a.createElement("div",{className:"font-size-small"},"Not a member yet?"),l.a.createElement("div",null,"Sign Up")))))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={fullname:"",email:"",dob:"",state:"",image:"",isLoading:!1},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.id,e.target.value)),console.log(a.state)},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.fullname,l=t.email,c=t.dob,o=t.state,r=t.images,s=(t.id,{fullname:n,email:l,dob:c,state:o,images:r});console.log("obj",s,a.state),fetch("".concat("http://localhost:4000/api","/admin/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(function(e){return e.json()}).then(function(e){if(console.log("Update response",e),200!==e.statuscode)return N()("Response","An error occured! Please recheck and try again","failed");localStorage.setItem("staff",JSON.stringify(e.data)),N()("Response","Successfully Created a Staff","success"),setTimeout(a.props.history.push("/staff"),2e3)})},a.previewFile=function(){var e=document.getElementById("image-box"),t=document.querySelector("input[type=file]").files[0],n=new FileReader;n.addEventListener("load",function(){e.src=n.result;var t=n.result;a.setState({image:t}),console.log("My file result",t)},!1),t&&n.readAsDataURL(t)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"login"},l.a.createElement("div",{className:"container login-container"},l.a.createElement("h2",{className:"text-center login-text"},"Sign Up"),l.a.createElement("form",{className:"form mx-auto"},l.a.createElement("input",{type:"text",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",id:"fullname",placeholder:"Fullname",onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"email",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",id:"email",placeholder:"email",onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"date",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",id:"dob",placeholder:"Date of Birth",onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",id:"state",placeholder:"State of origin",onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"file",accept:"image/*",className:"form-control mb-2 mr-sm-2 col-md-7",id:"images",placeholder:"City",onChange:this.previewFile}),l.a.createElement("img",{src:"",height:"200",id:"image-box",alt:"",className:"mb-4"}),l.a.createElement("button",{className:"col-md-7 btn btn-primary btn-login",onClick:this.handleSubmit},"Create"),l.a.createElement("br",null)),l.a.createElement("div",{className:"d-flex justify-content-center not-a-member"},l.a.createElement("div",{className:"font-size-small"},"Not a member yet?"),l.a.createElement("div",null,"Sign Up")))))}}]),t}(n.Component),O=(a(21),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("staff"));console.log("real data",e),this.setState({data:e})}},{key:"render",value:function(){var e=this.state.data,t=e.fullname,a=e.dob,n=e.email,c=e.state;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 left-div"},l.a.createElement("div",{className:"img-div mx-auto"}),l.a.createElement("h5",{className:"text-center"},t),l.a.createElement("h6",{className:"text-center"},n)," ",l.a.createElement("br",null)),l.a.createElement("div",{className:"col-md-8 right-div"},l.a.createElement("div",{className:"top-right-div d-flex mx-auto"},l.a.createElement("ul",null,l.a.createElement("li",{className:"list-title"},"Email:"),l.a.createElement("li",{className:"list-title"},"Birth Date:"),l.a.createElement("li",{className:"list-title"},"State of origin")),l.a.createElement("ul",null,l.a.createElement("li",{className:"list-desc"},n),l.a.createElement("li",{className:"list-desc"},a),l.a.createElement("li",{className:"list-desc"},c))),l.a.createElement("div",{className:"bottom-right-div mx-auto"},l.a.createElement("h2",{className:"text-center"}," A little about me"),l.a.createElement("p",{className:""},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis modi ipsa quis! Cum hic quam quibusdam, tempore perspiciatis dolores, debitis aliquid placeat eius, facilis ullam laborum iste cumque aut mollitia!"))))))}}]),t}(n.Component)),w=a(17),S=a.n(w),C=a(26),x=a(18),k=a.n(x),D=a(22);D.DataTable=a(42);var A=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],category:[]},a.fetchAdmins=Object(C.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:4000/api",e.next=3,fetch("".concat("http://localhost:4000/api","/admin/")).then(function(e){return e.json()}).then(function(e){a.setState({admin:e.data.length?e.data:null}),D("#example").DataTable();var t=document.querySelector("#example_filter"),n=document.querySelector("input");t.style.float="right",n.classList.add("form-control")});case 3:case"end":return e.stop()}},e)})),a.handleEdit=function(e){a.setState({isEdit:!0}),a.props.history.push("/edit-staff/".concat(e.target.id))},a.handleView=function(e){a.setState({isEdit:!0}),a.props.history.push("/view-staff/".concat(e.target.id))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchAdmins()}},{key:"render",value:function(){var e=this,t=this.state.admin;return l.a.createElement("div",{className:""},l.a.createElement("div",{className:"main-content-container container-fluid px-4",style:{background:"white"}},l.a.createElement("div",{className:"card-body",style:{background:"white"}},l.a.createElement(p.a,{to:"/register"},l.a.createElement("button",{className:"btn btn-primary add-staff-btn"},"Add Staff")),l.a.createElement("table",{id:"example",className:"table table-striped table-bordered table-hover",width:"100%"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"S/n"),l.a.createElement("th",null," Photo"),l.a.createElement("th",null," Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Birth Date"),l.a.createElement("th",null,"State of Origin"),l.a.createElement("th",null,"Date Created"),l.a.createElement("th",null,"View"),l.a.createElement("th",null,"Edit"))),l.a.createElement("tbody",null,t?t.map(function(t,a){return console.log("my data",t,a,t.fullname),l.a.createElement("tr",{key:t._id},l.a.createElement("td",null,a+1),l.a.createElement("td",null," ",l.a.createElement("img",{className:"staff-photo",src:t.staff_dp,alt:".."})," "),l.a.createElement("td",null,t.fullname),l.a.createElement("td",null,t.email),l.a.createElement("td",null," ",l.a.createElement(k.a,{fromNow:!0},t.dob)," "),l.a.createElement("td",null,t.state),l.a.createElement("td",null,l.a.createElement(k.a,{fromNow:!0},t.createdAt)),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-info btn-xs action-btn",onClick:e.handleView,id:t._id},l.a.createElement("i",{className:"material-icons",id:t._id,style:{left:"-6px",fontSize:"13px"}},"local_see"))),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-primary btn-xs action-btn",onClick:e.handleEdit,id:t._id},l.a.createElement("i",{className:"material-icons",id:t._id,style:{left:"-6px",fontSize:"13px"}},"mode_edit"))))}):l.a.createElement("div",null,"No data to show"))))))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={staff:[],isLoading:!1,email:"",fullname:"",dob:"",state:"",image:"",isUpdated:!1},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.id,e.target.value)),console.log(a.state)},a.handleSubmit=function(e){e.preventDefault();var t=a.props.match.params.id,n={fullname:document.querySelector("#fullname").value,email:document.querySelector("#email").value,dob:document.querySelector("#dob").value,state:document.querySelector("#state").value};console.log("obj",n),fetch("".concat("http://localhost:4000/api","/admin/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){if(console.log("Update response",e),200!==e.status)return N()("Response","Update Failed","failed");N()("Response","Successfully updated staff","success"),setTimeout(a.props.history.push("/staff"),2e3)})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("".concat("http://localhost:4000/api","/admin/").concat(t)).then(function(e){return e.json()}).then(function(t){console.log(e.props);var a=t.data,n=a.fullname,l=a.email,c=a.dob,o=a.state;e.setState({fullname:n,email:l,dob:c,state:o})}),console.log()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"login"},l.a.createElement("div",{className:"container login-container"},l.a.createElement("h2",{className:"text-center login-text"},"Edit Details"),l.a.createElement("form",{className:"form mx-auto"},l.a.createElement("input",{type:"text",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",value:this.state?this.state.fullname:"",id:"fullname",placeholder:"Fullname",onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"email",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",value:this.state?this.state.email:"",id:"email",placeholder:"email",onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"date",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",value:this.state?this.state.dob:"",id:"dob",placeholder:"Date of Birth",onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",value:this.state?this.state.state:"",id:"state",placeholder:"State of origin",onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("button",{className:"col-md-7 btn btn-primary btn-login",onClick:this.handleSubmit},"Update"),l.a.createElement("br",null)))))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={staff:[],isLoading:!1,email:"",fullname:"",dob:"",state:"",image:"",isUpdated:!1},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.id,e.target.value)),console.log(a.state)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("".concat("http://localhost:4000/api","/admin/").concat(t)).then(function(e){return e.json()}).then(function(t){console.log(e.props);var a=t.data,n=a.fullname,l=a.email,c=a.dob,o=a.state;e.setState({fullname:n,email:l,dob:c,state:o})}),console.log()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"login"},l.a.createElement("div",{className:"container login-container"},l.a.createElement("h2",{className:"text-center login-text"},"View Details"),l.a.createElement("form",{className:"form mx-auto"},l.a.createElement("input",{type:"text",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",value:this.state?this.state.fullname:"",id:"fullname",placeholder:"Fullname",onChange:this.handleChange,disabled:!0}),l.a.createElement("br",null),l.a.createElement("input",{type:"email",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",value:this.state?this.state.email:"",id:"email",placeholder:"email",onChange:this.handleChange,disabled:!0}),l.a.createElement("br",null),l.a.createElement("input",{type:"date",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",value:this.state?this.state.dob:"",id:"dob",placeholder:"Date of Birth",onChange:this.handleChange,disabled:!0}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",className:"form-control mb-2 mr-sm-2 col-md-7 shadow-none ",value:this.state?this.state.state:"",id:"state",placeholder:"State of origin",onChange:this.handleChange,disabled:!0}),l.a.createElement("br",null)))))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement("div",{className:"app wrapper",id:"wrapper"},l.a.createElement(g,null),l.a.createElement(h.a,{exact:!0,path:"/",component:O}),l.a.createElement(h.a,{exact:!0,path:"/login",component:y}),l.a.createElement(h.a,{exact:!0,path:"/register",component:j}),l.a.createElement(h.a,{exact:!0,path:"/staff",component:A}),l.a.createElement(h.a,{exact:!0,path:"/edit-staff/:id",component:L}),l.a.createElement(h.a,{exact:!0,path:"/view-staff/:id",component:U})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.11316923.chunk.js.map